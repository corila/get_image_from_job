
<f:layout name="Default" />
<f:section name="main">
	<f:flashMessages renderMode="div" />
	<ul class="stock-info">
		<f:for each="{images}" as="image" iteration="itemIteration">
			<li data-target="#carousel-example-generic" data-slide-to="{itemIteration.index}" class="{f:if(condition: itemIteration.isFirst, then: 'active')}">
				<a href="#"><span class="icon-arrow-slide-right-font"></span> {image.label}</a>
			</li>
		</f:for>
	</ul>
	<div id="carousel-example-generic" class="carousel slide" data-ride="juliusbaer_stock_slide">
		<div class="carousel-inner">
			<f:for each="{images}" as="image" iteration="itemIteration">
				<div class="item {f:if(condition: itemIteration.isFirst, then: 'active')}">
					<f:if condition="{image.name}">
						<f:then>
							<f:image src="{image.name}" width="{imageDimensions.width}" height="{imageDimensions.height}"/>
						</f:then>
						<f:else>
							<f:image src="EXT:juliusbaer_stock/Resources/Public/Icons/no-volume-available.gif" width="{imageDimensions.width}" height="{imageDimensions.width}"/>
						</f:else>
					</f:if>
				</div>
			</f:for>
		</div>
	</div>
	<script type="text/javascript">
		$(function() {
			$('.juliusbaer_stock_slide').carousel({
				pause: true,
				interval: false
			});
			$('.stock-info li').click(function() {
				$(this).siblings().removeClass('active');
				$(this).addClass('active');
			});
		});
	</script>
</f:section>